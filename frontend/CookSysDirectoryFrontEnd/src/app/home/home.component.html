<app-navbar></app-navbar>
<div class="flex flex-col items-center mt-28 p-4">
  <h1 class="text-4xl font-bold mb-4">Announcements</h1>
  <button (click)="openModal()" class="mb-4 py-2 px-4 bg-[#1BA098] text-white rounded cursor-pointer">New</button>
  <hr class="border-t-2 border-[#DEB992] w-3/4 mb-8">
  <div class="grid gap-8 w-full max-w-4xl">
    <div *ngFor="let announcement of paginatedAnnouncements" class="bg-[#0B2D45] shadow-md rounded-lg p-4 w-full h-auto min-h-[384px] flex flex-col justify-center items-center relative">
        <div class="absolute top-4 left-4">
          <span class="font-bold text-white font-mulish">User Name</span>
        </div>
        <div class="absolute top-4 right-4">
          <span class="text-white font-mulish">{{announcement.date}}</span>
        </div>
        <div class="text-white text-center font-inter">
          {{ announcement.content }}
        </div>
      </div>
    </div>
    <div class="flex justify-between w-full max-w-4xl mt-4">
        <button (click)="prevPage()" [disabled]="currentPage === 1" class="py-2 px-4 bg-[#1BA098] text-white rounded cursor-pointer disabled:cursor-not-allowed">Previous</button>
        <button (click)="nextPage()" [disabled]="currentPage * itemsPerPage >= announcements.length" class="py-2 px-4 bg-[#1BA098] text-white rounded cursor-pointer disabled:cursor-not-allowed">Next</button>
      </div>
</div>

<!-- Modal -->
<div *ngIf="showModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50" (click)="closeModal()">
  <div class="bg-[#051622] p-8 rounded-lg shadow-lg w-full max-w-md sm:max-w-sm relative" (click)="$event.stopPropagation()">
    <button (click)="closeModal()" class="absolute top-2 right-2 text-red-600 text-2xl font-bold cursor-pointer">&times;</button>
    <h2 class="text-2xl font-bold mb-4 text-[#DEB992]">New Announcement</h2>
    <form (submit)="onSubmit()" class="flex flex-col items-center">
      <div class="mb-4 w-full">
        <label for="title" class="block text-[#DEB992]">Title</label>
        <input type="text" id="title" class="mt-1 block w-full px-3 py-2 bg-transparent border-b-2 border-[#DEB992] focus:outline-none focus:border-indigo-500 sm:text-sm">
      </div>
      <div class="mb-4 w-full">
        <label for="message" class="block text-[#DEB992]">Message</label>
        <textarea id="message" class="mt-1 block w-full px-3 py-2 bg-transparent border-b-2 border-[#DEB992] focus:outline-none focus:border-indigo-500 sm:text-sm"></textarea>
      </div>
      <button type="submit" class="py-2 px-4 bg-[#1BA098] text-white rounded-[25px]">Submit</button>
    </form>
  </div>
</div>